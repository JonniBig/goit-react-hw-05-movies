{"version":3,"file":"static/js/521.1589c696.chunk.js","mappings":"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","sources":["components/MovieDetailsItem/MovieDetailsItem.jsx","webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","services/getTrendingMovies.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React from 'react';\nconst movieImageUrl = 'https://image.tmdb.org/t/p/w300';\nconst MovieDetailsItem = ({ poster_path, title, overview, genres }) => {\n  return (\n    <div>\n      <div>\n        <img\n          src={`${movieImageUrl}${poster_path}`}\n          alt={`Poster for ${title}`}\n        />\n      </div>\n      <div>\n        <h2>{title}</h2>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        {genres && genres.length > 0 && (\n          <div>\n            <h4>Genres</h4>\n            <ul>\n              {genres.map(genre => (\n                <li key={genre.name}>{genre.name}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetailsItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"goBackLink\":\"MovieDetails_goBackLink__s0hSu\",\"DeteilsContainer\":\"MovieDetails_DeteilsContainer__-j2dM\"};","import React, { useEffect, useRef, useState, lazy, Suspense } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { getMovie } from 'services/getTrendingMovies';\nimport MovieDetailsItem from 'components/MovieDetailsItem/MovieDetailsItem';\nimport CSS from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('components/Cast/Cast'));\nconst Reviews = lazy(() => import('components/Reviews/Reviews'));\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const location = useLocation();\n\n  const [pageData, setPageData] = useState({\n    movieData: {},\n    isLoading: false,\n    hasError: false,\n    errorMessage: 'Something went wrong! Try again later',\n  });\n\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!id) return;\n\n    async function fetchMovieData() {\n      try {\n        setPageData(prevData => ({ ...prevData, isLoading: true }));\n        const mDetails = await getMovie(id);\n\n        setPageData(prevData => ({ ...prevData, movieData: mDetails }));\n      } catch (error) {\n        setPageData(prevData => ({\n          ...prevData,\n          hasError: true,\n          errorMessage: error.message,\n        }));\n      } finally {\n        setPageData(prevData => ({ ...prevData, isLoading: false }));\n      }\n    }\n    fetchMovieData();\n  }, [id]);\n\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <Link to={backLinkRef.current} className={CSS.goBackLink}>\n        Go back\n      </Link>\n      {pageData.hasError && (\n        <div>\n          <p>{pageData.errorMessage}</p>\n        </div>\n      )}\n      {pageData.isLoading && (\n        <div>\n          <p>Loading...</p>\n        </div>\n      )}\n      <div className={CSS.DeteilsContainer}>\n        {pageData.movieData.poster_path && (\n          <MovieDetailsItem\n            id={pageData.movieData.id}\n            poster_path={pageData.movieData.poster_path}\n            title={pageData.movieData.title}\n            genres={pageData.movieData.genres}\n            overview={pageData.movieData.overview}\n          />\n        )}\n        <div>\n          <h2>Additional Information</h2>\n          <ul>\n            <li>\n              <NavLink to=\"cast\">Cast</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"reviews\">Reviews</NavLink>\n            </li>\n          </ul>\n        </div>\n        <Routes>\n          <Route path=\"cast\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nconst token =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjOTNkN2JiMGI5M2ZlMDM3MmQ4YTZkNDJkOGE5NGNhOCIsInN1YiI6IjY1MmFmZjY3ZWE4NGM3MDBhZWYyOGFmZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JoJ09IKYIcQbLxtX-lIS9ov1ytunDzmtILtaCy1xGqw';\n\nconst authAxios = axios.create({\n  headers: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await authAxios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US'\n  );\n\n  return data;\n};\n\nexport const getMovie = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}`\n  );\n\n  return data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits`\n  );\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews`\n  );\n\n  return data.results;\n};\n\nexport const getMovieSearch = async movieName => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${movieName}`\n  );\n\n  return data.results;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["poster_path","title","overview","genres","src","alt","length","map","genre","name","Cast","lazy","Reviews","id","useParams","location","useLocation","useState","movieData","isLoading","hasError","errorMessage","pageData","setPageData","backLinkRef","useRef","state","from","useEffect","prevData","getMovie","mDetails","message","fetchMovieData","Suspense","fallback","to","current","className","CSS","path","element","authAxios","axios","headers","Authorization","getTrendingMovies","get","data","movieId","getCast","cast","getReview","results","getMovieSearch","movieName","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}